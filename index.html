<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Kneeboard Notes</title>
    <link rel="icon" href="/favicon-3047bbe1014b3583.svg" integrity="sha384-s/JI6Tfa+oXZQNuo8ltHvyXxzv8bpVAjbj9KfjkJvZbw9cBk9AtPNTt/MfDbCV78"/>
    
    <link rel="stylesheet" href="fonts/fonts.css"/>
    <script>
        (function() {
            var saved = localStorage.getItem("theme");
            var theme = saved || (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
            document.documentElement.setAttribute("data-theme", theme);

            window.__toggleTheme = function() {
                var current = document.documentElement.getAttribute("data-theme") || "light";
                var next = current === "dark" ? "light" : "dark";
                document.documentElement.setAttribute("data-theme", next);
                localStorage.setItem("theme", next);
            };

            window.__getTheme = function() {
                return document.documentElement.getAttribute("data-theme") || "light";
            };
        })();
    </script>
    <style>
        :root, [data-theme="light"] {
            --bg: #f0f7f9;
            --bg-panel: #ffffff;
            --bg-field: #ffffff;
            --bg-deep: #e2eef2;
            --border: #d0e2e8;
            --border-strong: #b0ccd5;
            --accent: #0d9488;
            --accent-dim: #0d8a80;
            --accent-bg: #0d948812;
            --accent-mist: #e8f6f5;
            --accent-amber: #0284c7;
            --text: #0f2d3a;
            --text-bright: #0f2d3a;
            --text-dim: #7da0ac;
            --text-faint: #b5cdd5;
            --danger: #e11d48;
        }

        [data-theme="dark"] {
            --bg: #0e1a1e;
            --bg-panel: #142228;
            --bg-field: #1a2d34;
            --bg-deep: #0a1418;
            --border: #243a42;
            --border-strong: #2e4c56;
            --accent: #2dd4bf;
            --accent-dim: #14b8a6;
            --accent-bg: #2dd4bf12;
            --accent-mist: #2dd4bf18;
            --accent-amber: #38bdf8;
            --text: #d4e8ed;
            --text-bright: #d4e8ed;
            --text-dim: #5a8694;
            --text-faint: #3a5c68;
            --danger: #fb7185;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.5;
        }

        /* Top bar */
        .topbar {
            background: var(--bg-panel);
            border-bottom: 1px solid var(--border);
            padding: 0 24px;
            height: 52px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 1px 3px rgba(0,0,0,0.06);
        }
        .topbar-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        .topbar-brand {
            font-size: 18px;
            font-weight: 700;
            color: var(--accent);
        }
        .topbar-sub {
            font-size: 13px;
            color: var(--text-dim);
            border-left: 1px solid var(--border);
            padding-left: 16px;
        }
        .topbar-actions {
            display: flex;
            gap: 6px;
            align-items: center;
        }

        /* Buttons */
        .btn {
            font-family: 'Outfit', sans-serif;
            font-size: 13px;
            font-weight: 600;
            padding: 6px 16px;
            border: 1px solid var(--border);
            background: var(--bg-field);
            color: var(--text-dim);
            cursor: pointer;
            transition: all 0.15s;
            border-radius: 8px;
        }
        .btn:hover {
            border-color: var(--accent);
            color: var(--accent);
            background: var(--accent-bg);
        }
        .btn-primary {
            border-color: var(--accent);
            color: #ffffff;
            background: var(--accent);
        }
        .btn-primary:hover {
            background: var(--accent-dim);
            border-color: var(--accent-dim);
        }
        .btn-link {
            background: none;
            border: none;
            color: var(--text-dim);
            padding: 6px;
            border-radius: 8px;
        }
        .btn-link:hover {
            color: var(--accent);
            background: var(--accent-bg);
        }

        /* Layout */
        .main {
            display: flex;
            height: calc(100vh - 52px);
        }
        .form-area {
            flex: 0 0 64%;
            overflow-y: auto;
            padding: 20px 24px;
            scrollbar-width: thin;
            scrollbar-color: var(--border) transparent;
        }
        .form-area--full {
            flex: 1;
        }
        .preview-area {
            flex: 1;
            border-left: 1px solid var(--border);
            background: var(--bg-deep);
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        .preview-label {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-dim);
            margin-bottom: 10px;
            padding-bottom: 6px;
            border-bottom: 1px solid var(--border);
        }
        .preview-content {
            flex: 1;
            border: 1px solid var(--border);
            background: var(--bg-panel);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-dim);
            position: relative;
            overflow: hidden;
        }
        .preview-content embed {
            width: 100%;
            height: 100%;
        }

        /* Panels */
        .panel {
            background: var(--bg-panel);
            border: 1px solid var(--border);
            border-radius: 12px;
            margin-bottom: 16px;
            position: relative;
            box-shadow: 0 1px 3px rgba(0,0,0,0.04);
        }
        .panel-head {
            padding: 10px 16px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: var(--accent-mist);
            border-radius: 12px 12px 0 0;
        }
        .panel-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .panel-title .marker {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--accent);
        }
        .panel-body {
            padding: 16px;
        }

        /* Fields */
        .fields {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }
        .fg label {
            display: block;
            font-size: 11px;
            font-weight: 600;
            color: var(--text-dim);
            margin-bottom: 4px;
        }
        .fg input,
        .fg select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid var(--border);
            background: var(--bg-field);
            color: var(--text-bright);
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            border-radius: 8px;
            outline: none;
            transition: border-color 0.15s, box-shadow 0.15s;
        }
        .fg select {
            appearance: none;
            -webkit-appearance: none;
            cursor: pointer;
        }
        .fg input:focus,
        .fg select:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px var(--accent-bg);
        }
        .fg-bare {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid var(--border);
            background: var(--bg-field);
            color: var(--text-bright);
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            border-radius: 8px;
            outline: none;
            transition: border-color 0.15s, box-shadow 0.15s;
        }
        .fg-bare:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px var(--accent-bg);
        }
        select.fg-bare {
            appearance: none;
            -webkit-appearance: none;
            cursor: pointer;
        }
        select.fg-bare option {
            background: var(--bg-panel);
            color: var(--text-bright);
        }
        .fg select option {
            background: var(--bg-panel);
            color: var(--text-bright);
        }
        .route-name-input {
            background: transparent;
            border: none;
            border-bottom: 1px solid transparent;
            outline: none;
            font-family: 'Outfit', sans-serif;
            font-size: 14px;
            font-weight: 600;
            color: var(--accent);
            padding: 0 2px;
            width: 200px;
        }
        .route-name-input::placeholder {
            color: var(--accent);
            opacity: 0.45;
        }
        .route-name-input:focus {
            border-bottom-color: var(--accent);
        }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }
        th {
            font-size: 11px;
            font-weight: 600;
            color: var(--accent);
            padding: 8px 6px;
            text-align: left;
            border-bottom: 2px solid var(--accent-dim);
            white-space: nowrap;
        }
        td {
            padding: 2px 2px;
            border-bottom: 1px solid var(--border);
        }
        td input {
            width: 100%;
            padding: 6px 8px;
            border: 1px solid transparent;
            background: transparent;
            color: var(--text-bright);
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            border-radius: 6px;
            outline: none;
            transition: all 0.15s;
        }
        td input:hover { background: var(--accent-bg); }
        td input:focus {
            background: var(--bg-field);
            border-color: var(--accent);
        }
        .ra { text-align: right; }

        /* Fill-all row */
        tr.fill-row td {
            padding: 2px 2px;
            border-bottom: 2px solid var(--accent-dim);
            background: var(--accent-mist);
        }
        .fill-input {
            width: 100%;
            padding: 3px 6px;
            border: 1px solid transparent;
            background: transparent;
            color: var(--text-dim);
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            border-radius: 4px;
            outline: none;
            transition: all 0.15s;
        }
        .fill-input::placeholder { color: var(--text-faint); }
        .fill-input:focus {
            background: var(--bg-field);
            border-color: var(--accent);
            color: var(--text-bright);
        }

        /* Row actions */
        .row-acts {
            display: flex;
            gap: 2px;
            opacity: 0;
            transition: opacity 0.15s;
        }
        tr:hover .row-acts { opacity: 1; }
        .ibtn {
            width: 24px;
            height: 24px;
            border: none;
            background: none;
            color: var(--text-dim);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 13px;
            border-radius: 6px;
            transition: all 0.15s;
        }
        .ibtn:hover { color: var(--accent); background: var(--accent-bg); }
        .ibtn.del:hover { color: var(--danger); background: rgba(225,29,72,0.08); }

        /* Notes */
        .note-row {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 4px 0;
            border-bottom: 1px solid var(--border);
        }
        .toggle {
            width: 28px;
            height: 28px;
            border: 1px solid var(--border);
            border-radius: 6px;
            background: none;
            font-family: 'Outfit', sans-serif;
            font-size: 13px;
            font-weight: 600;
            color: var(--text-dim);
            cursor: pointer;
            transition: all 0.15s;
        }
        .toggle.on {
            background: var(--accent);
            color: #ffffff;
            border-color: var(--accent);
        }
        .note-txt {
            flex: 1;
            padding: 6px 10px;
            border: 1px solid transparent;
            border-radius: 6px;
            background: transparent;
            font-family: 'Outfit', sans-serif;
            font-size: 14px;
            color: var(--text);
            outline: none;
            transition: all 0.15s;
        }
        .note-txt:focus {
            background: var(--bg-field);
            border-color: var(--accent);
        }

        /* Route meta */
        .route-meta {
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            color: var(--accent-amber);
        }

        /* Add row button */
        .add-row {
            display: block;
            width: 100%;
            padding: 8px;
            border: 1px dashed var(--border);
            border-radius: 8px;
            background: none;
            color: var(--text-dim);
            font-family: 'Outfit', sans-serif;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 8px;
            transition: all 0.15s;
        }
        .add-row:hover {
            border-color: var(--accent);
            color: var(--accent);
            background: var(--accent-bg);
        }

        /* Corner decorations â€” hidden in ocean breeze theme */
        .corner-tl, .corner-br {
            display: none;
        }

        /* Alert styles */
        .alert {
            padding: 12px 16px;
            margin-bottom: 16px;
            border: 1px solid var(--border);
            background: var(--bg-panel);
            border-radius: 10px;
        }
        .alert-warning {
            border-color: var(--accent-amber);
            background: var(--accent-mist);
            color: var(--accent-amber);
        }
        .alert-danger {
            border-color: var(--danger);
            background: rgba(225,29,72,0.06);
            color: var(--danger);
        }

        /* Image upload */
        .image-upload label {
            cursor: pointer;
            display: inline-block;
            opacity: 0.7;
            transition: opacity 0.15s;
        }
        .image-upload label:hover {
            opacity: 1;
        }

        /* SVG icon colors */
        svg {
            fill: var(--text-dim);
        }
        a:hover svg,
        .image-upload label:hover svg {
            fill: var(--accent);
        }
    </style>
<link rel="modulepreload" href="/web-5b3cd506c2564885.js" crossorigin="anonymous" integrity="sha384-m8He+30z6qTyUttHERKbKmU7V+tdSC6mJO91fFCR7zg6OTieDYIFauEPr/broCFB"><link rel="preload" href="/web-5b3cd506c2564885_bg.wasm" crossorigin="anonymous" integrity="sha384-YV9xZoFjWivcwqTTGx2pWThMy+wxoWqk+DbQKeYsHnBvVwXAy9Nd+ZypPsLDl33p" as="fetch" type="application/wasm"></head>
<body>

<script type="module">
import init, * as bindings from '/web-5b3cd506c2564885.js';
const wasm = await init({ module_or_path: '/web-5b3cd506c2564885_bg.wasm' });


window.wasmBindings = bindings;


dispatchEvent(new CustomEvent("TrunkApplicationStarted", {detail: {wasm}}));

</script></body>
</html>
